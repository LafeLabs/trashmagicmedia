<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
        <!--

public domain


    -->
    
<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA/wAAAAD//wAA/wAAAAD/AP8A/wAApv8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFUAAARGAAIxFVUABEYAAjMRFQAARGYiIjMRAABERmZiIzEAAARERGZiMwAAAARERGYiAAAAAABERiL4PwAA+78AAPu/AAD33wAA9V8AAPVfAAD1XwAA998AAOADAADhAAAA4AAAAPAAAADwAAAA+AAAAP4AAAD/wAAA" rel="icon" type="image/x-icon" />

   <title>TRASH MAGIC MEDIA</title>    
</head>
<body>    
<a style = "position:absolute;right:0px;top:0px;font-size:2em;" href = "index.html">HOME</a>

    <form id = "uploadform" style = "margin-top:10px;color:#00ff00;display:none;" action="uploadmedia.php" method="post" enctype="multipart/form-data">
                Select media file to upload:
        <input type="file" name="fileToUpload" id="fileToUpload">
        <input type="submit" value="Upload Media File" name="submit">
    </form>    
    
    
<div id = "mediascroll">

    
</div>
<script>

webpages = [];

var httpcUpload = new XMLHttpRequest();
httpcUpload.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        webpages = JSON.parse(this.responseText);
        loadmediafeed();
        links = document.getElementsByClassName("link");
        rainbow(links);

    }
};
httpcUpload.open("GET", "dir.php?filename=web", true);
httpcUpload.send();

mediadir = [];
dirname = "";

function loadmediafeed(){
    for(var index = 0;index < webpages.length;index++) {
        
        if(webpages[index].includes(".")){
            var newa = document.createElement("A");
            newa.className = "link";
            newa.innerHTML = webpages[index];
            newa.href = "web/" + webpages[index];
            document.getElementById("mediascroll").appendChild(newa);
        }
        else{
            //directory
        }
    }    

}

function rainbow(localarray){
    n = localarray.length;
    theta = 0;
    for(var index = 0;index < n;index++){
    
        H = index*360/n;
        z = 255*(1 - Math.abs((H/60)%2 - 1));
    
        if(H < 60){
            red = 255;
            green = Math.round(z);
            blue = 0;
        }
        if(H >= 60 && H < 120){
            red = Math.round(z);
            green = 255;
            blue = 0;
        }
        if(H >= 120 && H < 180){
            red = 0;
            green = 255;
            blue = Math.round(z);
        }
        if(H >= 180 && H < 240){
            red = 0;    
            green = Math.round(z);
            blue = 255;
        }
        if(H >= 240 && H < 300){
            red = Math.round(z);    
            green = 0;
            blue = 255;
        }
        if(H >= 300 && H < 360){
            red = 255;    
            green = 0;
            blue = Math.round(z);
        }
        
        redstring = red.toString(16);
        if(redstring.length < 2){
            redstring = "0" + redstring;    
        }
        greenstring = green.toString(16);
        if(greenstring.length < 2){
            greenstring = "0" + greenstring; 
        }
        bluestring = blue.toString(16);
        if(bluestring.length < 2){
            bluestring = "0" + bluestring; 
        }
        color = "#" + redstring + greenstring + bluestring;
        //console.log(color);
        localarray[index].style.backgroundColor = color;// + "80";
        localarray[index].style.borderColor = color;
    }
}


</script>
<style>
body{
}

#mediascroll{
    position:absolute;
    right:0px;
    left:0px;
    top:2em;
    bottom:0px;
    overflow:scroll;
}
#mediascroll a,span{
    display:block;
    margin:auto;
    margin-top:0.5em;
    margin-bottom:0.5em;
    margin-left:1em;
    color:black;
}
#mediascroll h1{
    border:solid;
    border-radius:5px;
    margin-top:2px;
    margin-bottom:2px;
    cursor:pointer;
}
#mediascroll span{
    border:solid;
    cursor:pointer;
}
#mediascroll div{
    border:solid;
    margin: 0.5em 0.5em 0.5em 0.5em;
}


</style>
</body>
</html>
